@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
@import url('palette.css');

:root{
  --bg0:var(--color-bg);
  --bg1:var(--color-panel);
  --bg2:var(--color-surface);
  --ink:var(--color-ink);
  --dim:#714f34;
  --pastel-pink:var(--color-accent-pink);
  --pastel-lav:var(--color-accent-pink);
  --pastel-mint:var(--color-accent-blue);
  --pastel-blue:var(--color-accent-blue);
  --pastel-peach:var(--color-panel);
  --accent:var(--color-accent-pink);
  --accent2:var(--color-accent-blue);
  --accent3:var(--color-panel);
  --bezel-hi:#fff2d4;
  --bezel:#ffe0b3;
  --bezel-lo:#ffce91;
  --tile-bg:#fffbe8;
  --tile-bg-dim:#d9c7a5;
  --tile-shadow:0 10px 24px rgba(0,0,0,.45);
  --tile-shadow-active:0 18px 40px rgba(0,0,0,.6);
  --shadow:rgba(0,0,0,.25);
  --bg:var(--bg0);
  --bg2:var(--bg1);
  --panel:var(--tile-bg);
  --hi:var(--pastel-mint);
  --warn:var(--accent3);
  --r:8px;
}

*{box-sizing:border-box}
html,body{
  height:100%;margin:0;font-size:18px;color-scheme:light dark;
  background:var(--bg0);
  color:var(--ink);
  font-family:'Press Start 2P', ui-monospace, monospace;
  letter-spacing:.45px;
  touch-action:manipulation;
  -webkit-user-select:none;
  user-select:none;
}

h1{
  margin:0;
  font-size:18px;
  line-height:1.2;
}

@media (max-width:600px){
  html{font-size:20px;}
}

p-button,input,textarea,select{font-family:'Press Start 2P', ui-monospace, monospace}

input,select,textarea{
  appearance:none;
  border:2px solid var(--bezel);
  border-radius:var(--r);
  background:var(--tile-bg);
  padding:8px 10px;
  color:var(--ink);
  box-shadow:0 2px 0 var(--bezel-lo),inset 0 0 0 2px var(--bezel-hi);
}
input:focus,select:focus,textarea:focus{outline:2px solid var(--accent)}

select{
  padding-right:28px;
  background:
    var(--tile-bg)
    url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="6"><path fill="%23714f34" d="M0 0h10L5 6z"/></svg>')
    no-repeat right 8px center/10px 6px;
}

input[type=checkbox]{
  appearance:none;
  width:20px;height:20px;margin:0;cursor:pointer;padding:0;
  border:2px solid var(--bezel);
  border-radius:4px;
  background:var(--tile-bg);
  box-shadow:0 2px 0 var(--bezel-lo),inset 0 0 0 2px var(--bezel-hi);
  vertical-align:middle;
}
input[type=checkbox]:checked{background:var(--accent)}

input[type=range]{
  appearance:none; height:16px; padding:0;
  border:2px solid var(--bezel); border-radius:var(--r);
  background:var(--tile-bg);
  box-shadow:0 2px 0 var(--bezel-lo),inset 0 0 0 2px var(--bezel-hi);
}
input[type=range]::-webkit-slider-thumb{
  appearance:none; width:18px;height:18px;border-radius:6px;
  background:var(--bezel-hi);
  border:2px solid var(--bezel);
  box-shadow:0 2px 0 var(--bezel-lo),inset 0 0 0 2px var(--tile-bg);
}
input[type=range]::-moz-range-thumb{
  width:18px;height:18px;border-radius:6px;
  background:var(--bezel-hi);
  border:2px solid var(--bezel);
  box-shadow:0 2px 0 var(--bezel-lo),inset 0 0 0 2px var(--tile-bg);
}

pixel-input,
pixel-select,
pixel-range{
  position:relative;
  display:inline-block;
  background:linear-gradient(var(--tile-bg),var(--tile-bg-dim));
  border:2px solid var(--bezel);
  border-radius:var(--r);
  box-shadow:0 4px 0 var(--bezel-lo),inset 0 0 0 2px var(--bezel-hi);
}
pixel-input input,
pixel-select select,
pixel-range input{
  appearance:none;
  border:0;
  background:transparent;
  padding:8px 10px;
  font:inherit;
  color:var(--ink);
  width:100%;
  height:100%;
  margin:0;
}
pixel-input:focus-within,
pixel-select:focus-within,
pixel-range:focus-within{outline:2px solid var(--accent);}
pixel-select select{cursor:pointer;opacity:0;position:absolute;inset:0;}
pixel-select .text{pointer-events:none;display:block;padding:8px 28px 8px 10px;}
pixel-select::after{
  content:"";position:absolute;top:50%;right:8px;width:10px;height:6px;
  background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="6"><path fill="%23714f34" d="M0 0h10L5 6z"/></svg>') no-repeat center/contain;
  transform:translateY(-50%);pointer-events:none;
}
pixel-range{height:32px;padding:8px;}
pixel-range input{cursor:pointer;opacity:0;position:absolute;inset:0;}
pixel-range .track{position:absolute;left:8px;right:8px;top:50%;height:4px;background:var(--bezel);transform:translateY(-50%);}
pixel-range .fill{height:100%;background:var(--accent2);width:0%;}
pixel-range .thumb{position:absolute;top:50%;width:14px;height:14px;background:var(--bezel-hi);border:2px solid var(--bezel);border-radius:4px;box-shadow:0 2px 0 var(--bezel-lo),inset 0 0 0 2px var(--tile-bg);transform:translate(-50%,-50%);}

.btn,.tab,.pill{
  --b-bg:var(--tile-bg);
  --b-ink:var(--ink);
  --b-border:var(--bezel);
  --b-shadow:var(--bezel-lo);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:32px;
  min-height:16px;
  font-size:14px;
  line-height:1;
  appearance:none; border:2px solid var(--b-border); border-radius:12px;
  background:var(--b-bg); color:var(--b-ink); font-weight:800;
  padding:4px 8px; cursor:pointer;
  box-shadow:0 3px 0 var(--b-shadow),inset 0 0 0 2px var(--bezel-hi);
  transition:transform .05s;
}
.btn:active,.tab:active,.pill:active{
  box-shadow:0 1px 0 var(--b-shadow),inset 0 0 0 2px var(--bezel-hi);
  animation:btn-press .15s;
}
.btn{--b-bg:var(--btn-bg,var(--tile-bg));--b-ink:var(--btn-ink,var(--ink));--b-border:var(--btn-border,var(--bezel));--b-shadow:var(--btn-shadow,var(--bezel-lo));}
.tab{--b-bg:var(--tab-bg,var(--tile-bg));--b-ink:var(--tab-ink,var(--ink));--b-border:var(--tab-border,var(--bezel));--b-shadow:var(--tab-shadow,var(--bezel-lo));}
.pill{--b-bg:var(--pill-bg,var(--tile-bg));--b-ink:var(--pill-ink,var(--ink));--b-border:var(--pill-border,var(--bezel));--b-shadow:var(--pill-shadow,var(--bezel-lo));border-radius:999px;padding:6px 10px;font-weight:700;}
.tab.active,.tab[aria-selected="true"]{
  background:var(--tab-active-bg,var(--b-bg));
  color:var(--tab-active-ink,var(--b-ink));
  outline:2px solid var(--accent);
}

.cursor{
  display:inline-block;
  width:8px;
  height:1em;
  margin-left:2px;
  background:var(--ink);
  animation:cursor-blink 1s steps(1) infinite;
}

.toast{
  opacity:0;
  pointer-events:none;
}
.toast.show{
  animation:toast-in .3s forwards,toast-out .3s 1.7s forwards;
}

.popup{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.4);
  opacity:0;
  pointer-events:none;
}
.popup.show{
  pointer-events:auto;
  animation:popup .25s forwards;
}
.popup .box{
  background:var(--tile-bg);
  border:2px solid var(--bezel);
  border-radius:var(--r);
  padding:20px;
  box-shadow:0 4px 0 var(--bezel-lo),inset 0 0 0 2px var(--bezel-hi);
  text-align:center;
  white-space:pre-line;
}

@keyframes btn-press{
  0%{transform:translateY(0) scale(1);filter:brightness(1);}
  50%{transform:translateY(2px) scale(.95);filter:brightness(1.4);}
  100%{transform:translateY(0) scale(1);filter:brightness(1);}
}

@keyframes cursor-blink{
  0%,50%{opacity:1;}
  50.01%,100%{opacity:0;}
}

@keyframes toast-in{
  from{opacity:0;transform:scale(.8);}
  to{opacity:1;transform:scale(1);}
}

@keyframes toast-out{
  to{opacity:0;transform:scale(.8);}
}

@keyframes popup{
  from{opacity:0;}
  to{opacity:1;}
}

textarea.code{
  font-family:ui-monospace,monospace;
  background:var(--bg2);
}

@media (max-width:600px){
  .btn,.tab,.pill{min-height:44px;padding:12px 16px;font-size:16px;}
}

body::before{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
  background:
    radial-gradient(var(--pastel-peach) 1px, transparent 1px) 0 0/6px 6px,
    radial-gradient(var(--pastel-pink) 1px, transparent 1px) 3px 3px/6px 6px;
  opacity:.15;
}

@media (prefers-color-scheme: dark){
  :root:not([data-theme]){
    --bg0:#121212; --bg1:#1e1e1e; --bg2:#2a2a2a;
    --ink:#f5f5f5; --dim:#888;
    --pastel-pink:#ff79c6; --pastel-lav:#bd93f9;
    --pastel-mint:#50fa7b; --pastel-blue:#8be9fd;
    --pastel-peach:#ffb86c; --accent:#ff5555;
    --accent2:#8be9fd; --accent3:#ffb86c;
    --bezel-hi:#2e2e2e; --bezel:#262626; --bezel-lo:#1b1b1b;
    --tile-bg:#2a2a2a; --tile-bg-dim:#555;
    color-scheme:dark;
  }
  :root:not([data-theme]) body::before{ background:none; }
  html,body{background:var(--bg0);color:var(--ink);}
  :root:not([data-theme]){ --warn:#ff5555; }
}

:root[data-theme='dark']{
  --bg0:#121212; --bg1:#1e1e1e; --bg2:#2a2a2a;
  --ink:#f5f5f5; --dim:#888;
  --pastel-pink:#ff79c6; --pastel-lav:#bd93f9;
  --pastel-mint:#50fa7b; --pastel-blue:#8be9fd;
  --pastel-peach:#ffb86c; --accent:#ff5555;
  --accent2:#8be9fd; --accent3:#ffb86c;
  --bezel-hi:#2e2e2e; --bezel:#262626; --bezel-lo:#1b1b1b;
  --tile-bg:#2a2a2a; --tile-bg-dim:#555;
  color-scheme:dark;
  --warn:#ff5555;
}
:root[data-theme='light']{ color-scheme:light; }

