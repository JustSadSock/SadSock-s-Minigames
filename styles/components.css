/* Shared UI component library */
.hud{
  position:absolute;
  left:0;
  right:0;
  top:0;
  display:flex;
  justify-content:space-between;
  gap:8px;
  padding:8px;
  font-weight:700;
}
.hud-inline{
  position:static;
  justify-content:center;
  padding:4px;
}
.hud-3{
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
}

.pad{
  position:absolute;
  left:10px;
  right:10px;
  bottom:10px;
  display:flex;
  justify-content:center;
  gap:12px;
  padding:8px;
  border-radius:12px;
  background:var(--tile-bg);
  border:2px solid var(--bezel);
  box-shadow:inset 0 2px 0 var(--bezel-hi), inset 0 -3px 0 var(--bezel);
}
.pad-center{
  left:50%;
  right:auto;
  transform:translateX(-50%);
}
.pad-inline{
  position:static;
  margin-top:8px;
}
.pad button{
  min-width:clamp(56px,18vw,80px);
  min-height:clamp(56px,18vw,80px);
  font-size:clamp(12px,4vw,16px);
}
.pad.hidden{display:none}
.pad-toggle{position:absolute; right:10px; bottom:10px; display:none}
.pad-toggle.show{display:block}

.dpad{
  width:min(40vw,40svh);
  max-width:260px;
  aspect-ratio:1;
  display:grid;
  grid-template-areas:
    ". up ."
    "left mid right"
    ". down .";
  gap:8px;
  padding:10px;
  border-radius:16px;
  background:var(--tile-bg);
  border:2px solid var(--bezel);
  box-shadow:inset 0 2px 0 var(--bezel-hi), inset 0 -3px 0 var(--bezel);
}
.k{
  background:linear-gradient(var(--tile-bg), var(--tile-bg-dim));
  border:2px solid var(--bezel);
  border-radius:12px;
  box-shadow:0 4px 0 var(--bezel-lo),0 6px 12px rgba(0,0,0,.25);
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:'Press Start 2P', ui-monospace, monospace;
  transition:transform .1s, filter .1s;
}
.dpad .k{width:100%;height:100%;min-width:56px;min-height:56px;}
.k.down{
  filter:brightness(1.08);
  transform:translateY(2px);
  box-shadow:0 2px 0 var(--bezel-lo),0 3px 6px rgba(0,0,0,.2);
  animation:kglitch .18s steps(2) infinite;
}
@keyframes kglitch{
  0%,100%{filter:brightness(1.08);}
  50%{filter:brightness(1.3);}
}

.counter{
  --b-bg:var(--tile-bg);
  --b-ink:var(--ink);
  --b-border:var(--bezel);
  --b-shadow:var(--bezel-lo);
  display:inline-block;
  border:2px solid var(--b-border);
  border-radius:999px;
  background:var(--b-bg);
  color:var(--b-ink);
  padding:6px 10px;
  font-weight:700;
  box-shadow:0 3px 0 var(--b-shadow),inset 0 0 0 2px var(--bezel-hi);
  min-width:80px;
  text-align:center;
}

.panel{
  background:var(--panel);
  border:2px solid var(--bezel);
  border-radius:var(--r);
  box-shadow:0 4px 0 var(--bezel-lo),inset 0 2px 0 var(--bezel-hi);
  padding:8px;
}

.label{ position:absolute; left:20px; top:8px; font-weight:800; letter-spacing:.6px }
.hint{ position:absolute; right:20px; top:8px; opacity:.7; font-size:12px }
.footer{ color:var(--dim); font-weight:700; text-shadow:0 1px #fff4de; }

@media (pointer:fine){
  .hint,.footer{display:none}
}

@media (max-width:600px){
  .hud{flex-direction:column; align-items:center; text-align:center; gap:4px;}
  .pad{flex-direction:column; align-items:center;}
  .dpad{width:min(60vw,40svh); max-width:240px;}
}
