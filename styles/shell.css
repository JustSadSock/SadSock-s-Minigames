@import url('base.css');
@import url('themes.css');

.cabinet{min-height:100vh; display:flex; flex-direction:column; align-items:center; gap:12px; padding:14px;}
.frame{width:min(520px,94vw); height:min(84vh, 86svh);
  background:linear-gradient(180deg, var(--bg1), #ffc777 60%, #ffb347);
  border-radius:22px; position:relative; padding:12px; box-shadow:
    inset 0 2px 0 var(--bezel-hi),
    inset 0 -4px 0 var(--bezel),
    0 10px 30px var(--shadow);
  border:2px solid var(--bezel);}
.inner{position:absolute; inset:16px 16px 100px 16px; border-radius:16px;
  background:linear-gradient(180deg, var(--bg2), var(--tile-bg));
  box-shadow: inset 0 2px 0 var(--bezel-hi), inset 0 -4px 0 var(--bezel);
  overflow:hidden;}
.scanlines{ position:absolute; inset:0; pointer-events:none;
  background:repeating-linear-gradient(0deg, #0000 0 3px, rgba(0,0,0,.05) 3px 4px); mix-blend-mode:multiply; opacity:.35 }
canvas{width:100%; height:100%; display:block; image-rendering:pixelated}
.hud{ position:absolute; left:0; right:0; top:0; display:flex; justify-content:space-between; gap:8px; padding:8px; font-weight:700; }
.pad{ position:absolute; left:10px; right:10px; bottom:10px; display:flex; justify-content:center; gap:12px;
  padding:8px; border-radius:12px;
  background:var(--tile-bg); border:2px solid var(--bezel); box-shadow:inset 0 2px 0 var(--bezel-hi), inset 0 -3px 0 var(--bezel); }
.pad.hidden{display:none}
.pad-toggle{position:absolute; right:10px; bottom:10px; display:none}
.pad-toggle.show{display:block}
.dpad{ width:40vw; max-width:260px; aspect-ratio:1; display:grid; grid-template-areas:
    ". up ."
    "left mid right"
    ". down .";
  gap:8px; padding:10px; border-radius:16px;
  background:var(--tile-bg); border:2px solid var(--bezel); box-shadow:inset 0 2px 0 var(--bezel-hi), inset 0 -3px 0 var(--bezel); }
.k{ background:linear-gradient(var(--tile-bg), var(--tile-bg-dim)); border:2px solid var(--bezel); border-radius:12px;
  box-shadow:0 4px 0 var(--bezel-lo),0 6px 12px rgba(0,0,0,.25); height:20vw; max-height:80px;
  display:flex; align-items:center; justify-content:center; font-family:'Press Start 2P', ui-monospace, monospace;
  font-size:12px; transition:transform .1s, filter .1s; }
.dpad .k{height:100%}
.k.down{ filter:brightness(1.08); transform:translateY(2px); box-shadow:0 2px 0 var(--bezel-lo),0 3px 6px rgba(0,0,0,.2); animation:kglitch .18s steps(2) infinite; }

@keyframes kglitch{
  0%,100%{filter:brightness(1.08);} 
  50%{filter:brightness(1.3);}
}
.label{ position:absolute; left:20px; top:8px; font-weight:800; letter-spacing:.6px }
.hint{ position:absolute; right:20px; top:8px; opacity:.7; font-size:12px }
.footer{ color:var(--dim); font-weight:700; text-shadow:0 1px #fff4de; }

@media (pointer:fine){
  .hint,.footer{display:none}
}

@media (max-width:600px){
  .hud{flex-direction:column; align-items:center; text-align:center; gap:4px;}
  .pad{flex-direction:column; align-items:center;}
  .dpad{width:60vw; max-width:240px;}
}

